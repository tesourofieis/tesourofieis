---
title: Início
description: Espaço dedicado à oração, exposição e preservação das santas tradições da Igreja.
hero:
  title: Tesouro dos Fiéis
  tagline: Espaço dedicado à oração, exposição e preservação das santas tradições da Igreja.
  image:
    file: ../../../public/favicon.svg
  actions:
    - text: Missa do Dia
      icon: rocket
      link: /missal/dia
      variant: primary
    - text: Rosário
      icon: right-arrow
      link: /devocionario/rosario
tableOfContents: false

banner:
  content: |
    Em Portugal se conservará sempre o dogma da fé
    - Nossa Senhora de Fátima
---

import { getCalendarDay } from "../../../lib/getCalendar.ts";
import { yyyyMMDD } from "../../../lib/src/utils.ts";

import { getHours, getMinutes } from "date-fns";

import { Card, CardGrid, LinkCard } from "@astrojs/starlight/components";

export const date = new Date();

export function getPrayerTimeCategory(date) {
  const hour = getHours(date);
  if (hour >= 0 && hour < 3) {
    return (
      <LinkCard
        title="Pequeno Ofício de Nossa Senhora"
        description="Matina"
        href="/devocionario/oficio/matinas"
      />
    );
  } else if (hour >= 3 && hour < 6) {
    return (
      <LinkCard
        title="Pequeno Ofício de Nossa Senhora"
        description="Lauds"
        href="/devocionario/oficio/lauds"
      />
    );
  } else if (hour >= 6 && hour < 9) {
    return (
      <LinkCard
        title="Pequeno Ofício de Nossa Senhora"
        description="Prima"
        href="/devocionario/oficio/prima"
      />
    );
  } else if (hour >= 9 && hour < 12) {
    return (
      <LinkCard
        title="Pequeno Ofício de Nossa Senhora"
        description="Terça"
        href="/devocionario/oficio/terca"
      />
    );
  } else if (hour >= 12 && hour < 15) {
    return (
      <LinkCard
        title="Pequeno Ofício de Nossa Senhora"
        description="Sexta"
        href="/devocionario/oficio/sexta"
      />
    );
  } else if (hour >= 15 && hour < 18) {
    return (
      <LinkCard
        title="Pequeno Ofício de Nossa Senhora"
        description="Noa"
        href="/devocionario/oficio/noa"
      />
    );
  } else if (hour >= 18 && hour < 21) {
    return (
      <LinkCard
        title="Horas"
        description="Vésperas"
        href="/devocionario/oficio/vesperas"
      />
    );
  } else {
    return (
      <LinkCard
        title="Horas"
        description="Completas"
        href="/devocionario/oficio/completas"
      />
    );
  }
}

export const calendar = getCalendarDay(
  new Date(date).getFullYear(),
  yyyyMMDD(new Date()),
);

export function getPrayer(date) {
  const hour = getHours(date);
  const minute = getMinutes(date);
  // Morning is considered between 6:30 AM and 9:30 AM
  const isMorning =
    (hour === 6 && minute >= 30) ||
    (hour > 6 && hour < 9) ||
    (hour === 9 && minute <= 30);
  if (isMorning)
    return (
      <LinkCard title="Oração da Manhã" href="/devocionario/dia/oracaomanha" />
    );
  // Night is considered between 8:00 PM and 3:00 AM
  const isNight = hour >= 20 || (hour >= 0 && hour < 3);
  if (isMorning)
    return (
      <LinkCard title="Oração da Noite" href="/devocionario/dia/oracaonoite" />
    );
}

export function getAngelus(date) {
  const hour = getHours(date);
  const minute = getMinutes(date);
  // Angelus is traditionally prayed at 6:00 AM, 12:00 PM (noon), and 6:00 PM
  const isAngelus = hour === 6 || hour === 12 || hour === 18;
  if (isAngelus) {
    return <LinkCard title="Angelus" href="/devocionario/dia/angelus" />;
  }
}

<Card
  title={new Date().toLocaleString("pt", {
    weekday: "long",
    month: "long",
    day: "numeric",
    hour: "numeric",
  })}
  icon="magnifier"
>
  <LinkCard
    href={`/missal/dia#${date}`}
    title={
      calendar.celebration[0]?.title ||
      calendar.tempora[0]?.title ||
      calendar.commemoration[0]?.title ||
      "Feria"
    }
    description={calendar.commemoration[0]?.title}
  />
  {getPrayerTimeCategory(new Date())}
  {getAngelus(new Date())}
  {getPrayer(new Date())}
</Card>

<CardGrid stagger>
  <Card title="Missal" icon="star">
    <LinkCard href={`/missal/dia#${date}`} title="Missa do dia" />
    <LinkCard href={`/missal/calendario#${date}`} title="Calendário" />
  </Card>
  <Card title="Ritual" icon="star">
    <LinkCard href="/ritual/penitencia" title="Penitência" />
    <LinkCard href="/ritual/baptismo" title="Baptismo" />
  </Card>
  <Card title="Fé" icon="star">
    <LinkCard href="/fe/catecismo" title="Catecismo" />
    <LinkCard href="/fe/verdades" title="Verdades da fé" />
    <LinkCard href="/fe/juramento" title="Juramento anti-modernista" />
  </Card>
  <Card title="Cânticos" icon="star">
    <LinkCard href="/canticos/sacros" title="Sacros" />
  </Card>
  <Card title="Devocionário" icon="star">
    <LinkCard href="/devocionario/rosario" title="Rosário" />
    <LinkCard href="/devocionario/salterio" title="Saltério" />
    <LinkCard href="/devocionario/adoracao" title="Adoração" />
    <LinkCard href="/devocionario/dia" title="Orações do dia" />
    <LinkCard
      href="/devocionario/oficio"
      title="Pequeno Ofício de Nossa Senhora"
    />
    <LinkCard href="/devocionario/ladainhas" title="Ladaínhas" />
  </Card>
</CardGrid>
